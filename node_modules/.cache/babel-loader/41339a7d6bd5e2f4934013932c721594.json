{"ast":null,"code":"var _jsxFileName = \"/home/rodrigo/rodrigoDeSouzaFernandes/projetos-pessoais/KightsTour/src/components/Board/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useState, useCallback } from 'react';\nimport { getMatrixPosition, toLetter } from '../../utils/convert';\nimport resolveTour from '../../utils/resolveTour';\nimport { BoardBody, Square, Line, Knight, Move, Movements, Body, Columns, MovementsContainer, BtnPlay } from './styled';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction Board() {\n  _s();\n\n  const makeBoard = Array(8).fill(Array(8).fill({\n    visited: false,\n    knight: false,\n    content: ''\n  }));\n  const [board, setBoard] = useState(makeBoard);\n  const [initialPosition, setInitialPosition] = useState({\n    line: 0,\n    column: 0\n  });\n  const [movements, setMovements] = useState([]);\n  const [playing, setPlaying] = useState(false);\n  const [reset, setReset] = useState(false);\n  const setKnight = useCallback(prev => {\n    const [line, column] = square.split('-').map(Number);\n    const newBoard = prev.map((row, l) => row.map((col, c) => {\n      if (l == line && column == c) {\n        return {\n          content: 'true',\n          visited: true,\n          knight: true\n        };\n      }\n\n      ;\n      return { ...col,\n        knight: false,\n        content: 'x'\n      };\n    }));\n    setInitialPosition({\n      line,\n      column\n    });\n    setBoard(newBoard);\n  }, []);\n\n  const play = ({\n    line,\n    column\n  }) => {\n    const initSquare = `${toLetter(column)}${line + 1}`;\n    const squares = resolveTour(initSquare);\n    const result = squares.map(getMatrixPosition);\n    let count = 0;\n    const allMoves = [];\n\n    const moveKnight = () => {\n      allMoves.push({\n        moveNumber: count + 1,\n        square: squares[count]\n      });\n      setMovements(allMoves);\n      setKnight(result[count], count + 1);\n\n      if (count === result.length - 1) {\n        clearInterval(myInterval);\n        setReset(true);\n      } else count += 1;\n    };\n\n    const myInterval = setInterval(moveKnight, 500);\n  };\n\n  const cleanBoard = () => {\n    setReset(false);\n    setBoard(makeBoard);\n    setMovements([]);\n    setInitialPosition({\n      line: 0,\n      column: 0\n    });\n    setPlaying(false);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Body, {\n    children: [/*#__PURE__*/_jsxDEV(BoardBody, {\n      children: [/*#__PURE__*/_jsxDEV(Columns, {\n        children: Array(8).fill('p').map((e, i) => /*#__PURE__*/_jsxDEV(\"p\", {\n          children: [\" \", toLetter(i), \" \"]\n        }, e + i, true, {\n          fileName: _jsxFileName,\n          lineNumber: 79,\n          columnNumber: 45\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 78,\n        columnNumber: 9\n      }, this), board.map((line, l) => /*#__PURE__*/_jsxDEV(Line, {\n        children: [/*#__PURE__*/_jsxDEV(\"p\", {\n          children: l + 1\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 13\n        }, this), line.map(({\n          knight,\n          content\n        }, c) => !knight ? /*#__PURE__*/_jsxDEV(Square, {\n          id: `${l}-${c}`,\n          onClick: ({\n            target: {\n              id\n            }\n          }) => setKnight(id),\n          children: content\n        }, `square ${(l, c)}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(Knight, {\n          id: `${l}-${c}`\n        }, `square ${(l, c)}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 94,\n          columnNumber: 19\n        }, this))]\n      }, `linha ${l}`, true, {\n        fileName: _jsxFileName,\n        lineNumber: 82,\n        columnNumber: 11\n      }, this)), !playing ? /*#__PURE__*/_jsxDEV(BtnPlay, {\n        disabled: playing,\n        onClick: () => {\n          setPlaying(true);\n          play(initialPosition);\n        },\n        children: \"COME\\xC7AR\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 101,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(BtnPlay, {\n        disabled: !reset,\n        onClick: cleanBoard,\n        children: \"Limpar tabuleiro\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 111,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(MovementsContainer, {\n      children: /*#__PURE__*/_jsxDEV(Movements, {\n        children: movements.map(({\n          moveNumber,\n          square\n        }) => /*#__PURE__*/_jsxDEV(Move, {\n          children: `${moveNumber}Â° - ${square}`\n        }, `${moveNumber}${square}`, false, {\n          fileName: _jsxFileName,\n          lineNumber: 123,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 120,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 76,\n    columnNumber: 5\n  }, this);\n}\n\n_s(Board, \"L3MFUwbOjjc3DYqkCa20Up/DwvI=\");\n\n_c = Board;\nexport default Board;\n\nvar _c;\n\n$RefreshReg$(_c, \"Board\");","map":{"version":3,"sources":["/home/rodrigo/rodrigoDeSouzaFernandes/projetos-pessoais/KightsTour/src/components/Board/index.js"],"names":["React","useState","useCallback","getMatrixPosition","toLetter","resolveTour","BoardBody","Square","Line","Knight","Move","Movements","Body","Columns","MovementsContainer","BtnPlay","Board","makeBoard","Array","fill","visited","knight","content","board","setBoard","initialPosition","setInitialPosition","line","column","movements","setMovements","playing","setPlaying","reset","setReset","setKnight","prev","square","split","map","Number","newBoard","row","l","col","c","play","initSquare","squares","result","count","allMoves","moveKnight","push","moveNumber","length","clearInterval","myInterval","setInterval","cleanBoard","e","i","target","id"],"mappings":"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","sourcesContent":["import React, { useState, useCallback } from 'react'\nimport { getMatrixPosition, toLetter } from '../../utils/convert';\nimport resolveTour from '../../utils/resolveTour';\n\nimport { BoardBody, Square, Line, Knight, Move,\n  Movements, Body, Columns, MovementsContainer, BtnPlay } from './styled'\n\nfunction Board() {\n  const makeBoard = Array(8).fill(Array(8).fill({visited: false, knight: false, content:''}))\n  const [board, setBoard] = useState(makeBoard);\n  const [initialPosition, setInitialPosition] = useState({line: 0, column: 0});\n  const [movements, setMovements] = useState([]);\n  const [playing, setPlaying] = useState(false);\n  const [reset, setReset] = useState(false);\n\n  const setKnight = useCallback(\n    (prev) => {\n      const [line, column] = square.split('-').map(Number);\n      \n      const newBoard = prev.map((row, l) => row\n      .map((col, c) => {\n        \n        if (l == line && column == c) {\n          return {\n            content: 'true',\n            visited: true,\n            knight: true,\n            };\n        };\n        return {\n          ...col,\n          knight: false,\n          content: 'x',\n        };\n      }));\n  \n      setInitialPosition({line, column});\n      setBoard(newBoard);\n    },\n    [],\n  )\n\n  const play = ({line, column}) => {\n    const initSquare = `${toLetter(column)}${line + 1}`;\n\n    const squares = resolveTour(initSquare);\n    const result = squares.map(getMatrixPosition);\n    \n    let count = 0;\n    const allMoves = [];\n\n    const  moveKnight = () => {\n      allMoves.push({ moveNumber: count + 1, square: squares[count]});\n      setMovements(allMoves);\n      setKnight(result[count], count + 1);\n      \n      if(count === result.length -1) {\n        clearInterval(myInterval);\n        setReset(true);\n      }\n      else count += 1;\n    };\n\n    const myInterval = setInterval( moveKnight , 500);\n  };\n\n  const cleanBoard = () => {\n    setReset(false);\n    setBoard(makeBoard);\n    setMovements([]);\n    setInitialPosition({line: 0, column: 0});\n    setPlaying(false);\n  };\n\n  return (\n    <Body>\n      <BoardBody >\n        <Columns>\n          {Array(8).fill('p').map((e, i) => <p key={e + i}> {toLetter(i)} </p>)}\n        </Columns>\n        {board.map((line, l) => (\n          <Line key={`linha ${l}`}>\n            <p>{l + 1}</p>\n            {line.map(({knight, content}, c) => \n              !knight ? (\n                <Square\n                  key={`square ${l, c}`}\n                  id={`${l}-${c}`}\n                  onClick={ ({target: {id}}) => setKnight(id) }\n                >\n                  {content}\n                </Square>\n                ) : (\n                  <Knight\n                    key={`square ${l, c}`}\n                    id={`${l}-${c}`}\n                  />\n                  ))}\n          </Line>))}\n          {!playing ? (\n          <BtnPlay\n            disabled={playing}\n            onClick={ () => {\n              setPlaying(true);\n              play(initialPosition);\n            } }\n            >\n            COMEÃAR\n          </BtnPlay>\n          ) : (\n          <BtnPlay\n            disabled={!reset}\n            onClick={ cleanBoard }\n          >\n          Limpar tabuleiro\n          </BtnPlay>\n          )}\n      </BoardBody>\n      <MovementsContainer>\n        <Movements>\n          {movements.map(\n            ({moveNumber, square}) => (\n            <Move key={`${moveNumber}${square}`}>\n              {`${moveNumber}Â° - ${square}`}\n            </Move>))}\n        </Movements>\n      </MovementsContainer>\n    </Body>\n  )\n}\n\nexport default Board;\n"]},"metadata":{},"sourceType":"module"}